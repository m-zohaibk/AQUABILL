/**
 * @fileoverview Firestore Security Rules for AquaBill Application
 *
 * Core Philosophy:
 * This ruleset allows all users to read and write all data in the database without any restrictions.
 * This approach is suitable for prototyping or development environments where security is not a primary concern.
 *
 * Data Structure:
 * - /customers/{customerId}: Stores customer information.
 * - /customers/{customerId}/invoices/{invoiceId}: Stores invoices for each customer.
 * - /settings/{settingId}: Stores application-wide settings. Only a single settings document is expected.
 *
 * Key Security Decisions:
 * - All read and write operations are permitted for all users, including unauthenticated users.
 * - No data validation is performed.
 *
 * WARNING: This configuration should NEVER be used in a production environment. It exposes all data to unauthorized access and modification.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows all users to read and write customer data.
     * @path /customers/{customerId}
     * @allow (create, update, delete, get, list) - Any user can create, update, delete, get, or list customer documents.
     * @deny None. All operations are allowed.
     * @principle No security restrictions applied.
     */
    match /customers/{customerId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write invoice data for any customer.
     * @path /customers/{customerId}/invoices/{invoiceId}
     * @allow (create, update, delete, get, list) - Any user can create, update, delete, get, or list invoice documents.
     * @deny None. All operations are allowed.
     * @principle No security restrictions applied.
     */
    match /customers/{customerId}/invoices/{invoiceId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write application settings.
     * @path /settings/{settingId}
     * @allow (create, update, delete, get, list) - Any user can create, update, delete, get, or list setting documents.
     * @deny None. All operations are allowed.
     * @principle No security restrictions applied.
     */
    match /settings/{settingId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}